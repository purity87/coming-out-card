<template>
  <div class="min-h-screen flex items-center justify-center bg-gradient-to-b from-purple-100 to-purple-50 px-4 font-nanum">
    <!-- ì¹´ë“œ -->
    <div class="bg-white rounded-[2.5rem] shadow-2xl p-10 max-w-4xl w-full relative">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
        <!-- ì¢Œì¸¡: ì´ˆìŒíŒŒ + ì‹¬ì¥ì†Œë¦¬ -->
        <div class="flex flex-col items-center justify-center">
          <p class="text-gray-400 mb-4">ì´ë¯¸ì§€/ì‚¬ìš´ë“œ ì¤€ë¹„ì¤‘</p>

          <div v-if="ultrasoundSrc" class="mb-6">
            <img
                :src="ultrasoundSrc"
                alt="ì´ˆìŒíŒŒ ì‚¬ì§„"
                class="w-64 rounded-2xl shadow"
            />
          </div>

          <div v-if="hasHeartbeat" class="w-full">
            <audio controls class="w-full">
<!--              <source src="/heartbeat.mp3" type="audio/mpeg" />-->
            </audio>
          </div>
        </div>

        <!-- ìš°ì¸¡: ë¸”ë§ì´ + ë©˜íŠ¸ -->
        <div class="text-center">
          <div class="mb-6">
            <img
                src="/bling-baby.png"
                alt="ë¸”ë§ì´ ì´ë¯¸ì§€"
                class="mx-auto w-56 h-56 object-contain rounded-full"
                @error="onImageError"
            />
          </div>

          <h1 class="text-2xl font-bold text-gray-800 mb-4 leading-relaxed rounded-lg">
            ì•ˆë…•í•˜ì„¸ìš”!<br />
            â¤ï¸ í• ì•„ë²„ì§€, í• ë¨¸ë‹ˆ â¤ï¸
          </h1>

          <p class="text-gray-600 mb-4 leading-relaxed rounded-lg">
            ì €ëŠ”
            <span class="text-3xl font-bold text-purple-600">ë¸”ë§</span>ì´ì˜ˆìš”.
          </p>

          <p class="text-gray-600 mb-6 leading-relaxed rounded-lg">
            ë¬´ëŸ­ë¬´ëŸ­ ìë¼ì„œ<br />
            ìš°ë¦¬ <span class="font-semibold text-xl">9ì›”</span>ì— ë§Œë‚˜ìš” ğŸ’•
          </p>

          <div class="text-sm text-gray-400 leading-relaxed rounded-lg">
            <p>ë³´ê³  ì‹¶ì–´ìš”. ì‚¬ë‘í•´ìš”â™¥ï¸</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'

const ultrasoundSrc = ref<string | null>(null)
const hasHeartbeat = ref(false)

onMounted(() => {
  // ì´ˆìŒíŒŒ ì´ë¯¸ì§€ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
  // const img = new Image()
  // img.onload = () => (ultrasoundSrc.value = '/ultrasound.jpg')
  // img.onerror = () => (ultrasoundSrc.value = null)
  // img.src = '/ultrasound.jpg'
  //
  // // ì‹¬ì¥ì†Œë¦¬ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
  // fetch('/heartbeat.mp3', { method: 'HEAD' })
  //     .then(res => (hasHeartbeat.value = res.ok))
  //     .catch(() => (hasHeartbeat.value = false))
})

function onImageError(event: Event) {
  const target = event.target as HTMLImageElement
  target.style.display = 'none'
}
</script>

<style scoped>
/* ì¹´ë“œì— ë–  ìˆëŠ” ëŠë‚Œ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes float {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}
</style>
